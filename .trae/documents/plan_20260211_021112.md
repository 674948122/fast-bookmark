# Add "Recently Visited" Feature Plan

I will implement a "Recently Visited" folder feature that appears at the top of the bookmark list. This feature will be configurable via the settings menu.

## 1. Update Localization (`content.js`)
Add new translation strings for the feature:
- `recentFolder`: "Recently Visited" / "最近访问"
- `showRecentLabel`: "Show Recently Visited" / "显示最近访问"

## 2. Update Settings UI (`content.js`)
- **HTML**: Add a checkbox toggle for "Show Recently Visited" in the settings modal.
- **Logic**: 
  - Update `loadSettings` to include `showRecent` (default: `true`).
  - Update `saveBtn` listener to save the `showRecent` state.
  - Update `configBtn` listener to populate the checkbox state when opening settings.

## 3. Implement Recent Folder Logic (`content.js`)
- **Fetch Data**: Modify `fetchBookmarks` to retrieve `recentBookmarks` from `chrome.storage.local`.
- **Process Bookmarks**: 
  - in `processBookmarks`, if `settings.showRecent` is enabled:
    - Create a virtual folder node: `{ id: "fast-bookmark-recent", title: i18n... }`.
    - Map stored recent URLs to actual bookmark objects from the fetched bookmarks list.
    - Filter out any bookmarks that no longer exist.
    - Insert the "Recently Visited" folder at the beginning of the bookmark tree (as the first child of the root).

## 4. Update Rendering (`content.js`)
- **Custom Icon**: Modify `renderNode` to use a specific icon (e.g., a clock icon) when rendering the "Recently Visited" folder (`id === "fast-bookmark-recent"`).
- **Navigation**: Ensure clicking the folder toggles its expansion state correctly (should work automatically with existing logic).

## 5. Verification
- Verify that "Recently Visited" appears at the top.
- Verify that it contains correctly linked bookmarks.
- Verify that toggling the setting hides/shows the folder.
- Verify that the folder state (expanded/collapsed) is preserved.
